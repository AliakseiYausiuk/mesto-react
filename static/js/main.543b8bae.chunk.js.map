{"version":3,"sources":["images/logo.svg","components/Header.js","images/Vector.svg","images/plus.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","cardLikeButtonClassName","likes","some","i","id","type","aria-label","onClick","handleDeleteClick","link","name","handleClick","handleLikeClick","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","avatar","vector","about","plus","map","el","Footer","ImagePopup","onClose","api","baseUrl","headers","this","_baseUrl","_headers","Promise","all","getInitialCards","getUserData","res","ok","json","reject","status","fetch","then","_getResponseData","data","method","body","JSON","stringify","bool","decrementLike","incrementLike","authorization","PopupWithForm","isOpen","onSubmit","textBtn","children","title","action","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","useRef","current","ref","AddPlacePopup","setLink","App","setCurrentUser","setCards","getFullInfo","arrCards","userData","catch","err","console","log","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","closeAllPopups","Provider","isLiked","changeLikeCardStatus","newCard","state","c","deleteCard","newCards","filter","userEdit","upgradeAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.543b8bae.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6129e9de.svg\";","import logo from '../images/logo.svg';\r\n\r\n\r\nexport default function Header() {\r\n    return (\r\n      <header className=\"header\">\r\n        <img className=\"logo\" src={logo} alt=\"Логотип\"/>\r\n      </header>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/Vector.f0dd9c51.svg\";","export default __webpack_public_path__ + \"static/media/plus.d5d6f8af.svg\";","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n// export const currentUserData = {};","import React, {useContext} from 'react'\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nconst Card = ({card, onCardClick, onCardLike, onCardDelete}) => {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    function handleClick(card) {\r\n        onCardClick(card);\r\n      }  \r\n\r\n    const handleLikeClick  = (card) => {\r\n        onCardLike(card);\r\n    }\r\n\r\n    const handleDeleteClick = (card) => {\r\n        onCardDelete(card);\r\n    }\r\n\r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\n    const isOwn = card.owner._id === currentUser._id;\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n    const cardDeleteButtonClassName = isOwn ? 'cards__btn-delete' : ''; \r\n\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n    const cardLikeButtonClassName =  isLiked ? 'cards__like cards__like_active' : 'cards__like';\r\n    \r\n\r\n    return (\r\n        <li id={card._id} className=\"cards__card\">\r\n            {isOwn && <button className={cardDeleteButtonClassName} type=\"button\" aria-label=\"btn-delete\" onClick={() => handleDeleteClick(card)}></button>}\r\n            <figure className=\"cards__list\">\r\n            <img className=\"cards__foto\" src={card.link} alt={card.name} onClick={() => handleClick(card)}/>\r\n            <figcaption className=\"cards__text\">\r\n                {card.name}\r\n            </figcaption>\r\n            <ul className=\"cards__item\">\r\n                <li>\r\n                  <button className={cardLikeButtonClassName} type=\"button\" aria-label=\"btn-like\" onClick={() => handleLikeClick(card)}></button>\r\n                </li>\r\n                <li>\r\n                    <span className=\"cards__like-number\">{card.likes.length}</span>\r\n                </li>\r\n            </ul>\r\n            </figure>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Card\r\n","import React, {useContext} from 'react';\r\nimport vector from '../images/Vector.svg';\r\nimport plus from '../images/plus.svg';\r\nimport Card from './Card.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nconst Main = ({cards, onCardLike, onCardDelete, onEditAvatar, onEditProfile, onAddPlace, onCardClick}) => {\r\n\r\n  const currentUser = useContext(CurrentUserContext);\r\n  \r\n    return (\r\n      <main className=\"main\">\r\n        <section className=\"profile\">\r\n        <div className=\"profile__avatar-hover\">\r\n        <img className=\"profile__avatar\" src={currentUser ? currentUser.avatar : ''} alt=\"Аватар\" onClick={onEditAvatar}/>\r\n        </div>\r\n        <div className=\"profile__list\">\r\n          <h1 className=\"profile__info\">{currentUser ? currentUser.name : 'Жак-Ив Кусто'}</h1>\r\n          <div>\r\n            <button className=\"profile__edit-button\" type=\"button\" aria-label=\"btn-edit\" onClick={onEditProfile}>\r\n              <img src={vector} alt=\"Кнопка редактировать\"/>\r\n            </button>\r\n          </div>\r\n          <div>\r\n            <p className=\"profile__text\">{currentUser ? currentUser.about : 'Исследователь океана'}</p>\r\n          </div>\r\n      </div>\r\n      <button className=\"profile__add-Button\" type=\"button\" aria-label=\"btn-add\" onClick={onAddPlace}>\r\n        <img className=\"profile__add-Btn-img\" src={plus} alt=\"Кнопка плюс\"/>\r\n      </button>\r\n        </section>\r\n      <section className=\"elements\">\r\n      <ul className=\"cards\">\r\n        {cards.map(el => <Card key={el._id} card={el} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>)}\r\n      </ul>\r\n      </section>\r\n      </main>\r\n    )\r\n}\r\n\r\nexport default Main\r\n\r\n","\r\n\r\nconst Footer = () => {\r\n    return (\r\n      <footer className=\"footer\">\r\n        <p className=\"footer__text\">\r\n          &copy; 2020 Mesto Russia\r\n        </p>\r\n      </footer>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","\r\n\r\nconst ImagePopup = ({card, onClose}) => {\r\n    return (\r\n      <div id=\"pop-up-foto\" className={card ? \"pop-up pop-up_active\" : \"pop-up\"}>\r\n        <div className=\"pop-up__foto-container\">\r\n          <button id=\"pop-up-foto__btn-close\" className=\"pop-up__btn-close\" type=\"button\" aria-label=\"Close\" onClick={onClose}></button>\r\n          <figure className=\"pop-up__block-figure\">\r\n            <img className=\"pop-up__img\" src={card ? card.link : ''} alt=\"Вид на горы через деревья\"/>\r\n            <figcaption className=\"pop-up__text-img\">\r\n              {card ? card.name : ''}\r\n            </figcaption>\r\n          </figure>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup\r\n","\r\nclass Api {\r\n  constructor({baseUrl, headers}) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  getFullInfo() {\r\n    return Promise.all([this.getInitialCards(), this.getUserData()])\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка ${res.status}`)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`,{\r\n      headers: this._headers\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n\r\n  getUserData() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n\r\n  userEdit(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n\r\n  newCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n\r\n  upgradeAvatar(avatar) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar\r\n      })\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n\r\n  incrementLike(id) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n\r\n\r\n  decrementLike(id) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    })\r\n    .then(res => this._getResponseData(res))\r\n  }\r\n\r\n  changeLikeCardStatus(id, bool) {\r\n    return bool ? this.decrementLike(id) : this.incrementLike(id);\r\n  }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-24',\r\n  headers: {\r\n    authorization: 'af9c4ef2-e2ab-4c32-9f5d-4c36de022449',\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\n\r\n\r\nexport default api;\r\n","\r\nconst PopupWithForm = ({isOpen, onClose, name, onSubmit, textBtn, children , title}) => {\r\n    return (\r\n    <div id={name} className={isOpen ? 'pop-up pop-up_active' : 'pop-up'}>\r\n    <div className=\"pop-up__container pop-up__container_background\">\r\n      <button className=\"pop-up__btn-close\" type=\"button\" aria-label=\"Close\" onClick={onClose}></button>\r\n      <h2 className=\"pop-up__title\">\r\n        {title}\r\n      </h2>\r\n      <form id=\"edit-form\" className=\"pop-up__form\" action=\"#\" name={name} noValidate onSubmit={onSubmit}>\r\n        {children}\r\n        <button className=\"pop-up__btn-save\" type=\"submit\">\r\n          {textBtn}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\r\n\r\nconst EditProfilePopup = ({isOpen, onClose, onUpdateUser}) => {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const [name, setName] = useState('');\r\n\r\n    const [description, setDescription] = useState('');\r\n\r\n    const handleChangeName = (e) => {\r\n        setName(e.target.value);\r\n    }\r\n    const handleChangeDescription = (e) => {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]); \r\n\r\n    const handleSubmit = (e) => {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n    }\r\n    \r\n\r\n    return (\r\n      <PopupWithForm title='Редактировать профиль' name='profile-popup' textBtn='Сохранить' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n        <input id='nameInput' type=\"text\" className=\"pop-up__text\" value={name || ''} onChange={handleChangeName} name=\"content-name\" placeholder=\"Ваше имя\" minLength=\"2\" maxLength=\"40\"  required/>\r\n        <span id=\"nameInput-error\" className=\"pop-up__span-error\"></span>\r\n        <input id='jobInput' type=\"text\" className=\"pop-up__text\" value={description || ''} onChange={handleChangeDescription} name=\"content-job\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required/>\r\n        <span id=\"jobInput-error\" className=\"pop-up__span-error\"></span>\r\n      </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup\r\n","import React, {useRef} from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nconst EditAvatarPopup = ({isOpen, onClose, onUpdateAvatar}) => {\r\n\r\n    const avatar = useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateAvatar({\r\n          avatar: avatar.current.value,\r\n        });\r\n    }\r\n\r\n    return (\r\n      <PopupWithForm title='Обновить аватар' name='pop-up-upgred-avatar' textBtn='Да' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n        <input id=\"linkFotoAvatar\" type=\"url\" className=\"pop-up__text\" ref={avatar} name=\"contentFotoAvatar\" placeholder='Ссылка на картинку' required/>\r\n        <span id=\"linkFotoAvatar-error\" className=\"pop-up__span-error\"></span>\r\n      </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup\r\n","import React, {useState} from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nconst AddPlacePopup = ({isOpen, onClose, onAddPlace}) => {\r\n\r\n    const [name, setName] = useState('');\r\n\r\n    const [link, setLink] = useState('');\r\n    \r\n    const handleChangeName = (e) => {\r\n        setName(e.target.value);\r\n    }\r\n    const handleChangeLink = (e) => {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        onAddPlace({\r\n            name,\r\n            link\r\n        })\r\n    }\r\n    \r\n\r\n    return (\r\n      <PopupWithForm title='Новое место' name='pop-up-supplement-foto' textBtn='Создать' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n        <input id='NameFoto' type=\"text\" className=\"pop-up__text\" value={name || ''} onChange={handleChangeName} name=\"content-name-foto\" placeholder='Название' minLength='2' maxLength=\"30\" required/>\r\n        <span id=\"NameFoto-error\" className=\"pop-up__span-error\"></span>\r\n        <input id='linkFoto' type=\"url\" className=\"pop-up__text\" value={link || ''} onChange={handleChangeLink} name=\"content-foto\" placeholder='Ссылка на картинку' required/>\r\n        <span id=\"linkFoto-error\" className=\"pop-up__span-error\"></span>\r\n      </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup\r\n","import React, {useState, useEffect} from 'react';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/api.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js'\n\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [cards, setCards] = useState([]);\n\n\n  useEffect(() => {\n    api.getFullInfo()\n    .then(([arrCards, userData]) => {\n      setCurrentUser(userData);\n      setCards(arrCards);\n    })\n    .catch(err => console.log(err));\n  }, []);\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    }).catch(err => console.log(err));\n    \n  } \n\n  const handleCardDelete = (card) => {\n\n    api.deleteCard(card._id)\n    .then(res => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n    })\n    .catch(err => console.log(err));\n  }\n\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n\n\n  const [selectedCard, setSelectedCard] = useState(null);\n\n\n  // изменение сотояния при клике (открывает попап)\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  }\n  \n\n  // изменение сотояния при клике (открывает попап)\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  // изменение сотояния при клике (открывает попап)\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  // // изменение сотояния при клике (закрывает попапы)\n  const closeAllPopups = () => {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n\n    setSelectedCard(null);\n  }\n  \n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  }\n  \n  const handleUpdateUser = (data) => {\n    api.userEdit(data)\n    .then(res => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch(err => console.log(err))\n  }\n\n  const handleUpdateAvatar = (data) => {\n    api.upgradeAvatar(data.avatar)\n    .then(res => {\n      setCurrentUser(res);\n      closeAllPopups();\n    })\n    .catch(err => console.log(err))\n  }\n  \n  const handleAddPlaceSubmit = (newCard) => {\n    api.newCard(newCard)\n    .then(res => {\n      setCards([res, ...cards]); \n      closeAllPopups();\n    })\n    .catch(err => console.log(err))\n  }\n  \n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n     <Header/>\n     <Main cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} onEditAvatar={handleEditAvatarClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onCardClick={handleCardClick} />\n     <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n     <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n     <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n     <ImagePopup card={selectedCard} onClose={closeAllPopups}></ImagePopup>\n     <Footer/>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}